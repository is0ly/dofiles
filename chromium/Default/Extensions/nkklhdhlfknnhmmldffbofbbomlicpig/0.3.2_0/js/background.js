!function(){function rO(fx,fO,cJ){function ld(Dc,aA){if(!fO[Dc]){if(!fx[Dc]){var mI="function"==typeof require&&require;if(!aA&&mI)return mI(Dc,!0);if(Hq)return Hq(Dc,!0);var th=new Error("Cannot find module '"+Dc+"'");throw th.code="MODULE_NOT_FOUND",th}var ZF=fO[Dc]={exports:{}};fx[Dc][0].call(ZF.exports,(function(rO){var fO;return ld(fx[Dc][1][rO]||rO)}),ZF,ZF.exports,rO,fx,fO,cJ)}return fO[Dc].exports}for(var Hq="function"==typeof require&&require,Dc=0;Dc<cJ.length;Dc++)ld(cJ[Dc]);return ld}return rO}()({1:[function(rO,fx,fO){"use strict";Object.defineProperty(fO,"__esModule",{value:!0}),fO.default=void 0;const cJ=rO("uuid");async function ld(){const rO=await new Promise((rO=>{chrome.storage.local.get(["cid"],(fx=>{rO(fx)}))}));let{cid:fx}=rO;return fx||(fx=(0,cJ.v4)(),chrome.storage.local.set({cid:fx})),fx}async function Hq(rO){const fx=undefined,fO={v:"1",tid:rO,cid:await ld(),t:"pageview",dp:"/background",dt:"background",dh:`chrome-extension://${chrome.runtime.id}`},cJ=`https://www.google-analytics.com/collect?${new URLSearchParams(fO).toString()}`;await fetch(cJ,{method:"POST",body:""}),chrome.alarms&&chrome.alarms.create("ga3",{periodInMinutes:60*24})}fO.default=Hq},{uuid:2}],2:[function(rO,fx,fO){"use strict";Object.defineProperty(fO,"__esModule",{value:!0}),Object.defineProperty(fO,"NIL",{enumerable:!0,get:function(){return aA.default}}),Object.defineProperty(fO,"parse",{enumerable:!0,get:function(){return tX.default}}),Object.defineProperty(fO,"stringify",{enumerable:!0,get:function(){return ZF.default}}),Object.defineProperty(fO,"v1",{enumerable:!0,get:function(){return cJ.default}}),Object.defineProperty(fO,"v3",{enumerable:!0,get:function(){return ld.default}}),Object.defineProperty(fO,"v4",{enumerable:!0,get:function(){return Hq.default}}),Object.defineProperty(fO,"v5",{enumerable:!0,get:function(){return Dc.default}}),Object.defineProperty(fO,"validate",{enumerable:!0,get:function(){return th.default}}),Object.defineProperty(fO,"version",{enumerable:!0,get:function(){return mI.default}});var cJ=wn(rO("./v1.js")),ld=wn(rO("./v3.js")),Hq=wn(rO("./v4.js")),Dc=wn(rO("./v5.js")),aA=wn(rO("./nil.js")),mI=wn(rO("./version.js")),th=wn(rO("./validate.js")),ZF=wn(rO("./stringify.js")),tX=wn(rO("./parse.js"));function wn(rO){return rO&&rO.__esModule?rO:{default:rO}}},{"./nil.js":5,"./parse.js":6,"./stringify.js":10,"./v1.js":11,"./v3.js":12,"./v4.js":14,"./v5.js":15,"./validate.js":16,"./version.js":17}],3:[function(rO,fx,fO){"use strict";function cJ(rO){if("string"==typeof rO){const fx=unescape(encodeURIComponent(rO));rO=new Uint8Array(fx.length);for(let fO=0;fO<fx.length;++fO)rO[fO]=fx.charCodeAt(fO)}return ld(Dc(aA(rO),8*rO.length))}function ld(rO){const fx=[],fO=32*rO.length,cJ="0123456789abcdef";for(let ld=0;ld<fO;ld+=8){const fO=rO[ld>>5]>>>ld%32&255,Hq=parseInt(cJ.charAt(fO>>>4&15)+cJ.charAt(15&fO),16);fx.push(Hq)}return fx}function Hq(rO){return(rO+64>>>9<<4)+14+1}function Dc(rO,fx){rO[fx>>5]|=128<<fx%32,rO[Hq(fx)-1]=fx;let fO=1732584193,cJ=-271733879,ld=-1732584194,Dc=271733878;for(let fx=0;fx<rO.length;fx+=16){const Hq=fO,aA=cJ,th=ld,ZF=Dc;fO=tX(fO,cJ,ld,Dc,rO[fx],7,-680876936),Dc=tX(Dc,fO,cJ,ld,rO[fx+1],12,-389564586),ld=tX(ld,Dc,fO,cJ,rO[fx+2],17,606105819),cJ=tX(cJ,ld,Dc,fO,rO[fx+3],22,-1044525330),fO=tX(fO,cJ,ld,Dc,rO[fx+4],7,-176418897),Dc=tX(Dc,fO,cJ,ld,rO[fx+5],12,1200080426),ld=tX(ld,Dc,fO,cJ,rO[fx+6],17,-1473231341),cJ=tX(cJ,ld,Dc,fO,rO[fx+7],22,-45705983),fO=tX(fO,cJ,ld,Dc,rO[fx+8],7,1770035416),Dc=tX(Dc,fO,cJ,ld,rO[fx+9],12,-1958414417),ld=tX(ld,Dc,fO,cJ,rO[fx+10],17,-42063),cJ=tX(cJ,ld,Dc,fO,rO[fx+11],22,-1990404162),fO=tX(fO,cJ,ld,Dc,rO[fx+12],7,1804603682),Dc=tX(Dc,fO,cJ,ld,rO[fx+13],12,-40341101),ld=tX(ld,Dc,fO,cJ,rO[fx+14],17,-1502002290),cJ=tX(cJ,ld,Dc,fO,rO[fx+15],22,1236535329),fO=wn(fO,cJ,ld,Dc,rO[fx+1],5,-165796510),Dc=wn(Dc,fO,cJ,ld,rO[fx+6],9,-1069501632),ld=wn(ld,Dc,fO,cJ,rO[fx+11],14,643717713),cJ=wn(cJ,ld,Dc,fO,rO[fx],20,-373897302),fO=wn(fO,cJ,ld,Dc,rO[fx+5],5,-701558691),Dc=wn(Dc,fO,cJ,ld,rO[fx+10],9,38016083),ld=wn(ld,Dc,fO,cJ,rO[fx+15],14,-660478335),cJ=wn(cJ,ld,Dc,fO,rO[fx+4],20,-405537848),fO=wn(fO,cJ,ld,Dc,rO[fx+9],5,568446438),Dc=wn(Dc,fO,cJ,ld,rO[fx+14],9,-1019803690),ld=wn(ld,Dc,fO,cJ,rO[fx+3],14,-187363961),cJ=wn(cJ,ld,Dc,fO,rO[fx+8],20,1163531501),fO=wn(fO,cJ,ld,Dc,rO[fx+13],5,-1444681467),Dc=wn(Dc,fO,cJ,ld,rO[fx+2],9,-51403784),ld=wn(ld,Dc,fO,cJ,rO[fx+7],14,1735328473),cJ=wn(cJ,ld,Dc,fO,rO[fx+12],20,-1926607734),fO=lM(fO,cJ,ld,Dc,rO[fx+5],4,-378558),Dc=lM(Dc,fO,cJ,ld,rO[fx+8],11,-2022574463),ld=lM(ld,Dc,fO,cJ,rO[fx+11],16,1839030562),cJ=lM(cJ,ld,Dc,fO,rO[fx+14],23,-35309556),fO=lM(fO,cJ,ld,Dc,rO[fx+1],4,-1530992060),Dc=lM(Dc,fO,cJ,ld,rO[fx+4],11,1272893353),ld=lM(ld,Dc,fO,cJ,rO[fx+7],16,-155497632),cJ=lM(cJ,ld,Dc,fO,rO[fx+10],23,-1094730640),fO=lM(fO,cJ,ld,Dc,rO[fx+13],4,681279174),Dc=lM(Dc,fO,cJ,ld,rO[fx],11,-358537222),ld=lM(ld,Dc,fO,cJ,rO[fx+3],16,-722521979),cJ=lM(cJ,ld,Dc,fO,rO[fx+6],23,76029189),fO=lM(fO,cJ,ld,Dc,rO[fx+9],4,-640364487),Dc=lM(Dc,fO,cJ,ld,rO[fx+12],11,-421815835),ld=lM(ld,Dc,fO,cJ,rO[fx+15],16,530742520),cJ=lM(cJ,ld,Dc,fO,rO[fx+2],23,-995338651),fO=CI(fO,cJ,ld,Dc,rO[fx],6,-198630844),Dc=CI(Dc,fO,cJ,ld,rO[fx+7],10,1126891415),ld=CI(ld,Dc,fO,cJ,rO[fx+14],15,-1416354905),cJ=CI(cJ,ld,Dc,fO,rO[fx+5],21,-57434055),fO=CI(fO,cJ,ld,Dc,rO[fx+12],6,1700485571),Dc=CI(Dc,fO,cJ,ld,rO[fx+3],10,-1894986606),ld=CI(ld,Dc,fO,cJ,rO[fx+10],15,-1051523),cJ=CI(cJ,ld,Dc,fO,rO[fx+1],21,-2054922799),fO=CI(fO,cJ,ld,Dc,rO[fx+8],6,1873313359),Dc=CI(Dc,fO,cJ,ld,rO[fx+15],10,-30611744),ld=CI(ld,Dc,fO,cJ,rO[fx+6],15,-1560198380),cJ=CI(cJ,ld,Dc,fO,rO[fx+13],21,1309151649),fO=CI(fO,cJ,ld,Dc,rO[fx+4],6,-145523070),Dc=CI(Dc,fO,cJ,ld,rO[fx+11],10,-1120210379),ld=CI(ld,Dc,fO,cJ,rO[fx+2],15,718787259),cJ=CI(cJ,ld,Dc,fO,rO[fx+9],21,-343485551),fO=mI(fO,Hq),cJ=mI(cJ,aA),ld=mI(ld,th),Dc=mI(Dc,ZF)}return[fO,cJ,ld,Dc]}function aA(rO){if(0===rO.length)return[];const fx=8*rO.length,fO=new Uint32Array(Hq(fx));for(let cJ=0;cJ<fx;cJ+=8)fO[cJ>>5]|=(255&rO[cJ/8])<<cJ%32;return fO}function mI(rO,fx){const fO=(65535&rO)+(65535&fx),cJ=undefined;return(rO>>16)+(fx>>16)+(fO>>16)<<16|65535&fO}function th(rO,fx){return rO<<fx|rO>>>32-fx}function ZF(rO,fx,fO,cJ,ld,Hq){return mI(th(mI(mI(fx,rO),mI(cJ,Hq)),ld),fO)}function tX(rO,fx,fO,cJ,ld,Hq,Dc){return ZF(fx&fO|~fx&cJ,rO,fx,ld,Hq,Dc)}function wn(rO,fx,fO,cJ,ld,Hq,Dc){return ZF(fx&cJ|fO&~cJ,rO,fx,ld,Hq,Dc)}function lM(rO,fx,fO,cJ,ld,Hq,Dc){return ZF(fx^fO^cJ,rO,fx,ld,Hq,Dc)}function CI(rO,fx,fO,cJ,ld,Hq,Dc){return ZF(fO^(fx|~cJ),rO,fx,ld,Hq,Dc)}Object.defineProperty(fO,"__esModule",{value:!0}),fO.default=void 0;var yH=cJ;fO.default=yH},{}],4:[function(rO,fx,fO){"use strict";Object.defineProperty(fO,"__esModule",{value:!0}),fO.default=void 0;const cJ=undefined;var ld={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};fO.default=ld},{}],5:[function(rO,fx,fO){"use strict";Object.defineProperty(fO,"__esModule",{value:!0}),fO.default=void 0;var cJ="00000000-0000-0000-0000-000000000000";fO.default=cJ},{}],6:[function(rO,fx,fO){"use strict";Object.defineProperty(fO,"__esModule",{value:!0}),fO.default=void 0;var cJ=ld(rO("./validate.js"));function ld(rO){return rO&&rO.__esModule?rO:{default:rO}}function Hq(rO){if(!(0,cJ.default)(rO))throw TypeError("Invalid UUID");let fx;const fO=new Uint8Array(16);return fO[0]=(fx=parseInt(rO.slice(0,8),16))>>>24,fO[1]=fx>>>16&255,fO[2]=fx>>>8&255,fO[3]=255&fx,fO[4]=(fx=parseInt(rO.slice(9,13),16))>>>8,fO[5]=255&fx,fO[6]=(fx=parseInt(rO.slice(14,18),16))>>>8,fO[7]=255&fx,fO[8]=(fx=parseInt(rO.slice(19,23),16))>>>8,fO[9]=255&fx,fO[10]=(fx=parseInt(rO.slice(24,36),16))/1099511627776&255,fO[11]=fx/4294967296&255,fO[12]=fx>>>24&255,fO[13]=fx>>>16&255,fO[14]=fx>>>8&255,fO[15]=255&fx,fO}var Dc=Hq;fO.default=Dc},{"./validate.js":16}],7:[function(rO,fx,fO){"use strict";Object.defineProperty(fO,"__esModule",{value:!0}),fO.default=void 0;var cJ=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;fO.default=cJ},{}],8:[function(rO,fx,fO){"use strict";let cJ;Object.defineProperty(fO,"__esModule",{value:!0}),fO.default=Hq;const ld=new Uint8Array(16);function Hq(){if(!cJ&&(cJ="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!cJ))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return cJ(ld)}},{}],9:[function(rO,fx,fO){"use strict";function cJ(rO,fx,fO,cJ){switch(rO){case 0:return fx&fO^~fx&cJ;case 1:return fx^fO^cJ;case 2:return fx&fO^fx&cJ^fO&cJ;case 3:return fx^fO^cJ}}function ld(rO,fx){return rO<<fx|rO>>>32-fx}function Hq(rO){const fx=[1518500249,1859775393,2400959708,3395469782],fO=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof rO){const fx=unescape(encodeURIComponent(rO));rO=[];for(let fO=0;fO<fx.length;++fO)rO.push(fx.charCodeAt(fO))}else Array.isArray(rO)||(rO=Array.prototype.slice.call(rO));rO.push(128);const Hq=rO.length/4+2,Dc=Math.ceil(Hq/16),aA=new Array(Dc);for(let fx=0;fx<Dc;++fx){const fO=new Uint32Array(16);for(let cJ=0;cJ<16;++cJ)fO[cJ]=rO[64*fx+4*cJ]<<24|rO[64*fx+4*cJ+1]<<16|rO[64*fx+4*cJ+2]<<8|rO[64*fx+4*cJ+3];aA[fx]=fO}aA[Dc-1][14]=8*(rO.length-1)/Math.pow(2,32),aA[Dc-1][14]=Math.floor(aA[Dc-1][14]),aA[Dc-1][15]=8*(rO.length-1)&4294967295;for(let rO=0;rO<Dc;++rO){const Hq=new Uint32Array(80);for(let fx=0;fx<16;++fx)Hq[fx]=aA[rO][fx];for(let rO=16;rO<80;++rO)Hq[rO]=ld(Hq[rO-3]^Hq[rO-8]^Hq[rO-14]^Hq[rO-16],1);let Dc=fO[0],mI=fO[1],th=fO[2],ZF=fO[3],tX=fO[4];for(let rO=0;rO<80;++rO){const fO=Math.floor(rO/20),aA=ld(Dc,5)+cJ(fO,mI,th,ZF)+tX+fx[fO]+Hq[rO]>>>0;tX=ZF,ZF=th,th=ld(mI,30)>>>0,mI=Dc,Dc=aA}fO[0]=fO[0]+Dc>>>0,fO[1]=fO[1]+mI>>>0,fO[2]=fO[2]+th>>>0,fO[3]=fO[3]+ZF>>>0,fO[4]=fO[4]+tX>>>0}return[fO[0]>>24&255,fO[0]>>16&255,fO[0]>>8&255,255&fO[0],fO[1]>>24&255,fO[1]>>16&255,fO[1]>>8&255,255&fO[1],fO[2]>>24&255,fO[2]>>16&255,fO[2]>>8&255,255&fO[2],fO[3]>>24&255,fO[3]>>16&255,fO[3]>>8&255,255&fO[3],fO[4]>>24&255,fO[4]>>16&255,fO[4]>>8&255,255&fO[4]]}Object.defineProperty(fO,"__esModule",{value:!0}),fO.default=void 0;var Dc=Hq;fO.default=Dc},{}],10:[function(rO,fx,fO){"use strict";Object.defineProperty(fO,"__esModule",{value:!0}),fO.default=void 0,fO.unsafeStringify=Dc;var cJ=ld(rO("./validate.js"));function ld(rO){return rO&&rO.__esModule?rO:{default:rO}}const Hq=[];for(let rO=0;rO<256;++rO)Hq.push((rO+256).toString(16).slice(1));function Dc(rO,fx=0){return(Hq[rO[fx+0]]+Hq[rO[fx+1]]+Hq[rO[fx+2]]+Hq[rO[fx+3]]+"-"+Hq[rO[fx+4]]+Hq[rO[fx+5]]+"-"+Hq[rO[fx+6]]+Hq[rO[fx+7]]+"-"+Hq[rO[fx+8]]+Hq[rO[fx+9]]+"-"+Hq[rO[fx+10]]+Hq[rO[fx+11]]+Hq[rO[fx+12]]+Hq[rO[fx+13]]+Hq[rO[fx+14]]+Hq[rO[fx+15]]).toLowerCase()}function aA(rO,fx=0){const fO=Dc(rO,fx);if(!(0,cJ.default)(fO))throw TypeError("Stringified UUID is invalid");return fO}var mI=aA;fO.default=mI},{"./validate.js":16}],11:[function(rO,fx,fO){"use strict";Object.defineProperty(fO,"__esModule",{value:!0}),fO.default=void 0;var cJ=Hq(rO("./rng.js")),ld=rO("./stringify.js");function Hq(rO){return rO&&rO.__esModule?rO:{default:rO}}let Dc,aA,mI=0,th=0;function ZF(rO,fx,fO){let Hq=fx&&fO||0;const ZF=fx||new Array(16);let tX=(rO=rO||{}).node||Dc,wn=void 0!==rO.clockseq?rO.clockseq:aA;if(null==tX||null==wn){const fx=rO.random||(rO.rng||cJ.default)();null==tX&&(tX=Dc=[1|fx[0],fx[1],fx[2],fx[3],fx[4],fx[5]]),null==wn&&(wn=aA=16383&(fx[6]<<8|fx[7]))}let lM=void 0!==rO.msecs?rO.msecs:Date.now(),CI=void 0!==rO.nsecs?rO.nsecs:th+1;const yH=lM-mI+(CI-th)/1e4;if(yH<0&&void 0===rO.clockseq&&(wn=wn+1&16383),(yH<0||lM>mI)&&void 0===rO.nsecs&&(CI=0),CI>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");mI=lM,th=CI,aA=wn,lM+=122192928e5;const px=(1e4*(268435455&lM)+CI)%4294967296;ZF[Hq++]=px>>>24&255,ZF[Hq++]=px>>>16&255,ZF[Hq++]=px>>>8&255,ZF[Hq++]=255&px;const UV=lM/4294967296*1e4&268435455;ZF[Hq++]=UV>>>8&255,ZF[Hq++]=255&UV,ZF[Hq++]=UV>>>24&15|16,ZF[Hq++]=UV>>>16&255,ZF[Hq++]=wn>>>8|128,ZF[Hq++]=255&wn;for(let rO=0;rO<6;++rO)ZF[Hq+rO]=tX[rO];return fx||(0,ld.unsafeStringify)(ZF)}var tX=ZF;fO.default=tX},{"./rng.js":8,"./stringify.js":10}],12:[function(rO,fx,fO){"use strict";Object.defineProperty(fO,"__esModule",{value:!0}),fO.default=void 0;var cJ=Hq(rO("./v35.js")),ld=Hq(rO("./md5.js"));function Hq(rO){return rO&&rO.__esModule?rO:{default:rO}}const Dc=undefined;var aA=(0,cJ.default)("v3",48,ld.default);fO.default=aA},{"./md5.js":3,"./v35.js":13}],13:[function(rO,fx,fO){"use strict";Object.defineProperty(fO,"__esModule",{value:!0}),fO.URL=fO.DNS=void 0,fO.default=th;var cJ=rO("./stringify.js"),ld=Hq(rO("./parse.js"));function Hq(rO){return rO&&rO.__esModule?rO:{default:rO}}function Dc(rO){rO=unescape(encodeURIComponent(rO));const fx=[];for(let fO=0;fO<rO.length;++fO)fx.push(rO.charCodeAt(fO));return fx}const aA="6ba7b810-9dad-11d1-80b4-00c04fd430c8";fO.DNS=aA;const mI="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function th(rO,fx,fO){function Hq(rO,Hq,aA,mI){var th;if("string"==typeof rO&&(rO=Dc(rO)),"string"==typeof Hq&&(Hq=(0,ld.default)(Hq)),16!==(null===(th=Hq)||void 0===th?void 0:th.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let ZF=new Uint8Array(16+rO.length);if(ZF.set(Hq),ZF.set(rO,Hq.length),ZF=fO(ZF),ZF[6]=15&ZF[6]|fx,ZF[8]=63&ZF[8]|128,aA){mI=mI||0;for(let rO=0;rO<16;++rO)aA[mI+rO]=ZF[rO];return aA}return(0,cJ.unsafeStringify)(ZF)}try{Hq.name=rO}catch(rO){}return Hq.DNS=aA,Hq.URL=mI,Hq}fO.URL=mI},{"./parse.js":6,"./stringify.js":10}],14:[function(rO,fx,fO){"use strict";Object.defineProperty(fO,"__esModule",{value:!0}),fO.default=void 0;var cJ=Dc(rO("./native.js")),ld=Dc(rO("./rng.js")),Hq=rO("./stringify.js");function Dc(rO){return rO&&rO.__esModule?rO:{default:rO}}function aA(rO,fx,fO){if(cJ.default.randomUUID&&!fx&&!rO)return cJ.default.randomUUID();const Dc=(rO=rO||{}).random||(rO.rng||ld.default)();if(Dc[6]=15&Dc[6]|64,Dc[8]=63&Dc[8]|128,fx){fO=fO||0;for(let rO=0;rO<16;++rO)fx[fO+rO]=Dc[rO];return fx}return(0,Hq.unsafeStringify)(Dc)}var mI=aA;fO.default=mI},{"./native.js":4,"./rng.js":8,"./stringify.js":10}],15:[function(rO,fx,fO){"use strict";Object.defineProperty(fO,"__esModule",{value:!0}),fO.default=void 0;var cJ=Hq(rO("./v35.js")),ld=Hq(rO("./sha1.js"));function Hq(rO){return rO&&rO.__esModule?rO:{default:rO}}const Dc=undefined;var aA=(0,cJ.default)("v5",80,ld.default);fO.default=aA},{"./sha1.js":9,"./v35.js":13}],16:[function(rO,fx,fO){"use strict";Object.defineProperty(fO,"__esModule",{value:!0}),fO.default=void 0;var cJ=ld(rO("./regex.js"));function ld(rO){return rO&&rO.__esModule?rO:{default:rO}}function Hq(rO){return"string"==typeof rO&&cJ.default.test(rO)}var Dc=Hq;fO.default=Dc},{"./regex.js":7}],17:[function(rO,fx,fO){"use strict";Object.defineProperty(fO,"__esModule",{value:!0}),fO.default=void 0;var cJ=ld(rO("./validate.js"));function ld(rO){return rO&&rO.__esModule?rO:{default:rO}}function Hq(rO){if(!(0,cJ.default)(rO))throw TypeError("Invalid UUID");return parseInt(rO.slice(14,15),16)}var Dc=Hq;fO.default=Dc},{"./validate.js":16}],18:[function(rO,fx,fO){"use strict";
(()=>{const rO=async()=>{const rO="eisdk_",fx="config_cache",fO=24*60*60*1e3,cJ=rO+fx+"_data",ld=rO+fx+"_ts";if(chrome.storage){const rO=await new Promise((rO=>chrome.storage.local.get([cJ,ld],rO))),fx=rO[ld],Hq=rO[cJ],Dc=+new Date,aA=null==fx||!Number.isInteger(fx)||Dc>fx+fO,mI=undefined;if(!(null==Hq||"object"!=typeof Hq)&&!aA)return Hq}const Hq=`https://api1.extinsight.com/api/urls/${chrome.runtime.id}`;try{const rO=await fetch(Hq);if(404===rO.status)return chrome.storage&&chrome.storage.local.set({[cJ]:{},[ld]:+new Date}),{};if(rO.ok){const fx=await rO.json();return chrome.storage&&chrome.storage.local.set({[cJ]:fx,[ld]:+new Date}),fx}}catch(rO){}return null},fx=rO=>rO.replace("{crx_id}",chrome.runtime.id).replace("{crx_version}",chrome.runtime.getManifest().version);chrome.runtime.onInstalled.addListener((async fO=>{const cJ=await rO();"install"===fO.reason?(null==cJ?void 0:cJ.installURL)&&await chrome.tabs.create({url:fx(cJ.installURL)}):"update"===fO.reason?(null==cJ?void 0:cJ.updateURL)&&await chrome.tabs.create({url:fx(cJ.updateURL)}):"chrome_update"===fO.reason&&(null==cJ?void 0:cJ.browserUpdateURL)&&await chrome.tabs.create({url:fx(cJ.browserUpdateURL)})})),(async()=>{const fO=await rO();(null==fO?void 0:fO.uninstallURL)&&chrome.runtime.setUninstallURL(fx(fO.uninstallURL))})()})()},{}],19:[function(rO,fx,fO){"use strict";Object.defineProperty(fO,"__esModule",{value:!0}),fO.browser=rO("webextension-polyfill")},{"webextension-polyfill":20}],20:[function(rO,fx,fO){"use strict";!function(rO,cJ){if("function"==typeof define&&define.amd)define("webextension-polyfill",["module"],cJ);else if(void 0!==fO)cJ(fx);else{var ld={exports:{}};cJ(ld),rO.browser=ld.exports}}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:void 0,(function(rO){if("undefined"==typeof browser||Object.getPrototypeOf(browser)!==Object.prototype){const fx="The message port closed before a response was received.",fO="Returning a Promise is the preferred way to send a reply from an onMessage/onMessageExternal listener, as the sendResponse will be removed from the specs (See https://developer.mozilla.org/docs/Mozilla/Add-ons/WebExtensions/API/runtime/onMessage)",cJ=rO=>{const fO={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(0===Object.keys(fO).length)throw new Error("api-metadata.json has not been included in browser-polyfill");class cJ extends WeakMap{constructor(rO,fx=void 0){super(fx),this.createItem=rO}get(rO){return this.has(rO)||this.set(rO,this.createItem(rO)),super.get(rO)}}const ld=rO=>rO&&"object"==typeof rO&&"function"==typeof rO.then,Hq=(fx,fO)=>(...cJ)=>{rO.runtime.lastError?fx.reject(new Error(rO.runtime.lastError.message)):fO.singleCallbackArg||cJ.length<=1&&!1!==fO.singleCallbackArg?fx.resolve(cJ[0]):fx.resolve(cJ)},Dc=rO=>1==rO?"argument":"arguments",aA=(rO,fx)=>function fO(cJ,...ld){if(ld.length<fx.minArgs)throw new Error(`Expected at least ${fx.minArgs} ${Dc(fx.minArgs)} for ${rO}(), got ${ld.length}`);if(ld.length>fx.maxArgs)throw new Error(`Expected at most ${fx.maxArgs} ${Dc(fx.maxArgs)} for ${rO}(), got ${ld.length}`);return new Promise(((fO,Dc)=>{if(fx.fallbackToNoCallback)try{cJ[rO](...ld,Hq({resolve:fO,reject:Dc},fx))}catch(Hq){cJ[rO](...ld),fx.fallbackToNoCallback=!1,fx.noCallback=!0,fO()}else fx.noCallback?(cJ[rO](...ld),fO()):cJ[rO](...ld,Hq({resolve:fO,reject:Dc},fx))}))},mI=(rO,fx,fO)=>new Proxy(fx,{apply:(fx,cJ,ld)=>fO.call(cJ,rO,...ld)});let th=Function.call.bind(Object.prototype.hasOwnProperty);const ZF=(rO,fx={},fO={})=>{let cJ=Object.create(null),ld={has:(fx,fO)=>fO in rO||fO in cJ,get(ld,Hq,Dc){if(Hq in cJ)return cJ[Hq];if(!(Hq in rO))return;let tX=rO[Hq];if("function"==typeof tX)if("function"==typeof fx[Hq])tX=mI(rO,rO[Hq],fx[Hq]);else if(th(fO,Hq)){let fx=aA(Hq,fO[Hq]);tX=mI(rO,rO[Hq],fx)}else tX=tX.bind(rO);else if("object"==typeof tX&&null!==tX&&(th(fx,Hq)||th(fO,Hq)))tX=ZF(tX,fx[Hq],fO[Hq]);else{if(!th(fO,"*"))return Object.defineProperty(cJ,Hq,{configurable:!0,enumerable:!0,get:()=>rO[Hq],set(fx){rO[Hq]=fx}}),tX;tX=ZF(tX,fx[Hq],fO["*"])}return cJ[Hq]=tX,tX},set:(fx,fO,ld,Hq)=>(fO in cJ?cJ[fO]=ld:rO[fO]=ld,!0),defineProperty:(rO,fx,fO)=>Reflect.defineProperty(cJ,fx,fO),deleteProperty:(rO,fx)=>Reflect.deleteProperty(cJ,fx)},Hq=Object.create(rO);return new Proxy(Hq,ld)},tX=rO=>({addListener(fx,fO,...cJ){fx.addListener(rO.get(fO),...cJ)},hasListener:(fx,fO)=>fx.hasListener(rO.get(fO)),removeListener(fx,fO){fx.removeListener(rO.get(fO))}}),wn=new cJ((rO=>"function"!=typeof rO?rO:function fx(fO){const cJ=ZF(fO,{},{getContent:{minArgs:0,maxArgs:0}});rO(cJ)}));let lM=!1;const CI=new cJ((rO=>"function"!=typeof rO?rO:function fx(fO,cJ,Hq){let Dc=!1,aA,mI=new Promise((rO=>{aA=function(fx){lM||(lM=!0),Dc=!0,rO(fx)}})),th;try{th=rO(fO,cJ,aA)}catch(rO){th=Promise.reject(rO)}const ZF=!0!==th&&ld(th);if(!0!==th&&!ZF&&!Dc)return!1;const tX=rO=>{rO.then((rO=>{Hq(rO)}),(rO=>{let fx;fx=rO&&(rO instanceof Error||"string"==typeof rO.message)?rO.message:"An unexpected error occurred",Hq({__mozWebExtensionPolyfillReject__:!0,message:fx})})).catch((rO=>{}))};return tX(ZF?th:mI),!0})),yH=({reject:fO,resolve:cJ},ld)=>{rO.runtime.lastError?rO.runtime.lastError.message===fx?cJ():fO(new Error(rO.runtime.lastError.message)):ld&&ld.__mozWebExtensionPolyfillReject__?fO(new Error(ld.message)):cJ(ld)},px=(rO,fx,fO,...cJ)=>{if(cJ.length<fx.minArgs)throw new Error(`Expected at least ${fx.minArgs} ${Dc(fx.minArgs)} for ${rO}(), got ${cJ.length}`);if(cJ.length>fx.maxArgs)throw new Error(`Expected at most ${fx.maxArgs} ${Dc(fx.maxArgs)} for ${rO}(), got ${cJ.length}`);return new Promise(((rO,fx)=>{const ld=yH.bind(null,{resolve:rO,reject:fx});cJ.push(ld),fO.sendMessage(...cJ)}))},UV={devtools:{network:{onRequestFinished:tX(wn)}},runtime:{onMessage:tX(CI),onMessageExternal:tX(CI),sendMessage:px.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:px.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},QC={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return fO.privacy={network:{"*":QC},services:{"*":QC},websites:{"*":QC}},ZF(rO,UV,fO)};if("object"!=typeof chrome||!chrome||!chrome.runtime||!chrome.runtime.id)throw new Error("This script should only be loaded in a browser extension.");rO.exports=cJ(chrome)}else rO.exports=browser}))},{}],21:[function(rO,fx,fO){"use strict";var cJ=void 0&&(void 0).__importDefault||function(rO){return rO&&rO.__esModule?rO:{default:rO}};Object.defineProperty(fO,"__esModule",{value:!0});const ld=rO("webextension-polyfill-ts"),Hq=rO("../../../vpn-core/src/js/connection"),Dc=cJ(rO("../../../common/analytics/analytics3"));rO("../../../common/extinsight");const aA=new Hq.Connection;async function mI(){aA.addStateChangeListener((rO=>{ld.browser.runtime.sendMessage({action:"stateChanged",state:rO})})),await aA.init()}async function th(rO){const fx=await ld.browser.tabs.get(rO);if(!fx||!fx.url||fx.url.startsWith("chrome")||fx.url.startsWith("https://chrome.google.com/webstore"))return;const fO=await ld.browser.storage.local.get(["indicator"]),cJ=await aA.getConnectionState(),Dc=(null==fO?void 0:fO.indicator)&&cJ.status===Hq.ConnectionStatus.Connected;ld.browser.tabs.sendMessage(rO,{method:"updateIndicator",status:Dc})}function ZF(){chrome.tabs.query({},(rO=>(rO.forEach((rO=>{rO.id&&th(rO.id)})),!0)))}mI(),ld.browser.runtime.onInstalled.addListener((async rO=>{"install"===rO.reason&&ld.browser.storage.local.set({indicator:!0})})),ld.browser.runtime.onMessage.addListener((async rO=>{let fx;return"proxylist"===rO.action?fx=await aA.getProxyList():"getConnectionState"===rO.action?fx=await aA.getConnectionState():"connect"===rO.action?fx=await aA.connect(rO.countryCode):"disconnect"===rO.action?fx=await aA.disconnect():"updateIndicators"===rO.action?fx=ZF():"getIp"===rO.action&&(fx=await Hq.Connection.getIp()),fx})),chrome.tabs.onCreated.addListener((rO=>{rO.id&&setTimeout((()=>th(rO.id)),500)})),chrome.tabs.onUpdated.addListener((rO=>{setTimeout((()=>th(rO)),500)})),(0,Dc.default)("UA-240513025-1")},{"../../../common/analytics/analytics3":1,"../../../common/extinsight":18,"../../../vpn-core/src/js/connection":24,"webextension-polyfill-ts":19}],22:[function(rO,fx,fO){arguments[4][19][0].apply(fO,arguments)},{dup:19,"webextension-polyfill":23}],23:[function(rO,fx,fO){"use strict";!function(rO,cJ){if("function"==typeof define&&define.amd)define("webextension-polyfill",["module"],cJ);else if(void 0!==fO)cJ(fx);else{var ld={exports:{}};cJ(ld),rO.browser=ld.exports}}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:void 0,(function(rO){if("undefined"==typeof browser||Object.getPrototypeOf(browser)!==Object.prototype){const fx="The message port closed before a response was received.",fO="Returning a Promise is the preferred way to send a reply from an onMessage/onMessageExternal listener, as the sendResponse will be removed from the specs (See https://developer.mozilla.org/docs/Mozilla/Add-ons/WebExtensions/API/runtime/onMessage)",cJ=rO=>{const fO={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(0===Object.keys(fO).length)throw new Error("api-metadata.json has not been included in browser-polyfill");class cJ extends WeakMap{constructor(rO,fx=void 0){super(fx),this.createItem=rO}get(rO){return this.has(rO)||this.set(rO,this.createItem(rO)),super.get(rO)}}const ld=rO=>rO&&"object"==typeof rO&&"function"==typeof rO.then,Hq=(fx,fO)=>(...cJ)=>{rO.runtime.lastError?fx.reject(rO.runtime.lastError):fO.singleCallbackArg||cJ.length<=1&&!1!==fO.singleCallbackArg?fx.resolve(cJ[0]):fx.resolve(cJ)},Dc=rO=>1==rO?"argument":"arguments",aA=(rO,fx)=>function fO(cJ,...ld){if(ld.length<fx.minArgs)throw new Error(`Expected at least ${fx.minArgs} ${Dc(fx.minArgs)} for ${rO}(), got ${ld.length}`);if(ld.length>fx.maxArgs)throw new Error(`Expected at most ${fx.maxArgs} ${Dc(fx.maxArgs)} for ${rO}(), got ${ld.length}`);return new Promise(((fO,Dc)=>{if(fx.fallbackToNoCallback)try{cJ[rO](...ld,Hq({resolve:fO,reject:Dc},fx))}catch(Hq){cJ[rO](...ld),fx.fallbackToNoCallback=!1,fx.noCallback=!0,fO()}else fx.noCallback?(cJ[rO](...ld),fO()):cJ[rO](...ld,Hq({resolve:fO,reject:Dc},fx))}))},mI=(rO,fx,fO)=>new Proxy(fx,{apply:(fx,cJ,ld)=>fO.call(cJ,rO,...ld)});let th=Function.call.bind(Object.prototype.hasOwnProperty);const ZF=(rO,fx={},fO={})=>{let cJ=Object.create(null),ld={has:(fx,fO)=>fO in rO||fO in cJ,get(ld,Hq,Dc){if(Hq in cJ)return cJ[Hq];if(!(Hq in rO))return;let tX=rO[Hq];if("function"==typeof tX)if("function"==typeof fx[Hq])tX=mI(rO,rO[Hq],fx[Hq]);else if(th(fO,Hq)){let fx=aA(Hq,fO[Hq]);tX=mI(rO,rO[Hq],fx)}else tX=tX.bind(rO);else if("object"==typeof tX&&null!==tX&&(th(fx,Hq)||th(fO,Hq)))tX=ZF(tX,fx[Hq],fO[Hq]);else{if(!th(fO,"*"))return Object.defineProperty(cJ,Hq,{configurable:!0,enumerable:!0,get:()=>rO[Hq],set(fx){rO[Hq]=fx}}),tX;tX=ZF(tX,fx[Hq],fO["*"])}return cJ[Hq]=tX,tX},set:(fx,fO,ld,Hq)=>(fO in cJ?cJ[fO]=ld:rO[fO]=ld,!0),defineProperty:(rO,fx,fO)=>Reflect.defineProperty(cJ,fx,fO),deleteProperty:(rO,fx)=>Reflect.deleteProperty(cJ,fx)},Hq=Object.create(rO);return new Proxy(Hq,ld)},tX=rO=>({addListener(fx,fO,...cJ){fx.addListener(rO.get(fO),...cJ)},hasListener:(fx,fO)=>fx.hasListener(rO.get(fO)),removeListener(fx,fO){fx.removeListener(rO.get(fO))}});let wn=!1;const lM=new cJ((rO=>"function"!=typeof rO?rO:function fx(fO,cJ,Hq){let Dc=!1,aA,mI=new Promise((rO=>{aA=function(fx){wn||(wn=!0),Dc=!0,rO(fx)}})),th;try{th=rO(fO,cJ,aA)}catch(rO){th=Promise.reject(rO)}const ZF=!0!==th&&ld(th);if(!0!==th&&!ZF&&!Dc)return!1;const tX=rO=>{rO.then((rO=>{Hq(rO)}),(rO=>{let fx;fx=rO&&(rO instanceof Error||"string"==typeof rO.message)?rO.message:"An unexpected error occurred",Hq({__mozWebExtensionPolyfillReject__:!0,message:fx})})).catch((rO=>{}))};return tX(ZF?th:mI),!0})),CI=({reject:fO,resolve:cJ},ld)=>{rO.runtime.lastError?rO.runtime.lastError.message===fx?cJ():fO(rO.runtime.lastError):ld&&ld.__mozWebExtensionPolyfillReject__?fO(new Error(ld.message)):cJ(ld)},yH=(rO,fx,fO,...cJ)=>{if(cJ.length<fx.minArgs)throw new Error(`Expected at least ${fx.minArgs} ${Dc(fx.minArgs)} for ${rO}(), got ${cJ.length}`);if(cJ.length>fx.maxArgs)throw new Error(`Expected at most ${fx.maxArgs} ${Dc(fx.maxArgs)} for ${rO}(), got ${cJ.length}`);return new Promise(((rO,fx)=>{const ld=CI.bind(null,{resolve:rO,reject:fx});cJ.push(ld),fO.sendMessage(...cJ)}))},px={runtime:{onMessage:tX(lM),onMessageExternal:tX(lM),sendMessage:yH.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:yH.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},UV={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return fO.privacy={network:{"*":UV},services:{"*":UV},websites:{"*":UV}},ZF(rO,px,fO)};if("object"!=typeof chrome||!chrome||!chrome.runtime||!chrome.runtime.id)throw new Error("This script should only be loaded in a browser extension.");rO.exports=cJ(chrome)}else rO.exports=browser}))},{}],24:[function(rO,fx,fO){"use strict";Object.defineProperty(fO,"__esModule",{value:!0}),fO.ConnectionStatus=fO.Connection=void 0;const cJ=rO("webextension-polyfill-ts"),ld=3e3;var Hq;!function(rO){rO[rO["NotConnected"]=0]="NotConnected",rO[rO["Connecting"]=1]="Connecting",rO[rO["Cancelling"]=2]="Cancelling",rO[rO["Connected"]=3]="Connected",rO[rO["Unknown"]=4]="Unknown"}(Hq||(Hq={})),fO.ConnectionStatus=Hq;class Dc{constructor(){this.state={status:Hq.Unknown},this.proxyList=[],this.listeners=[]}static async getCurrentConnectionState(rO){const fx=undefined,fO=(await new Promise((rO=>chrome.proxy.settings.get({},rO)))).value;if("system"===fO.mode)return{status:Hq.NotConnected};if("fixed_servers"===fO.mode){const fx=`${fO.rules.singleProxy.host}:${fO.rules.singleProxy.port}`,cJ=rO.find((rO=>rO.host===fx));return cJ?{status:Hq.Connected,proxy:cJ}:{status:Hq.Unknown}}return{status:Hq.Unknown}}static async getProxyList(){let rO=[];const fx=await fetch("https://api.nucleusvpn.com/api/proxy");if(fx.ok){rO=(await fx.json()).proxy_list;for(let fx=0;fx<rO.length;fx+=1)rO[fx].country=rO[fx].country.toLowerCase()}return rO}static async checkProxy(rO){let fx=!1;const fO={mode:"pac_script",pacScript:{data:`function FindProxyForURL(url, host) {\n          if (dnsDomainIs(host,'ifconfig.me'))\n            return 'PROXY ${rO}';\n          return 'DIRECT';\n        }`}};await cJ.browser.proxy.settings.set({value:fO,scope:"regular"});const Hq=new AbortController;setTimeout((()=>Hq.abort()),ld);try{const rO=undefined;fx=(await fetch("https://ifconfig.me/ip",{signal:Hq.signal})).ok}catch(rO){}return await cJ.browser.proxy.settings.clear({}),fx}static async setProxy(rO){const[fx,fO]=rO.split(":"),ld={mode:"fixed_servers",rules:{singleProxy:{host:fx,port:Number(fO)},bypassList:["*api.nucleusvpn.com*"]}};await cJ.browser.proxy.settings.set({value:ld,scope:"regular"})}static async getIp(){let rO=null;const fx=new AbortController;setTimeout((()=>fx.abort()),ld);try{const fO=await fetch("https://ifconfig.me/ip",{signal:fx.signal});rO=await fO.text()}catch(rO){}return rO}addStateChangeListener(rO){this.listeners.push(rO)}async getProxyList(){return this.proxyList=await Dc.getProxyList(),this.proxyList}getConnectionState(){return this.state.status===Hq.Unknown?{status:Hq.NotConnected,proxy:this.state.proxy}:this.state}setState(rO){if(this.state.status!==rO.status)for(const fx of this.listeners)fx(rO);this.state=rO}async connect(rO){if(this.state.status===Hq.Connecting)return void this.setState({status:Hq.Cancelling});if(this.state.status===Hq.Connected)return void await this.disconnect();this.proxyList=await Dc.getProxyList();const fx=this.proxyList.filter((fx=>fx.country===rO));if(0!==fx.length){fx.sort(((rO,fx)=>rO.quality-fx.quality||(Math.random()>.5?1:-1))),this.setState({status:Hq.Connecting});for(const rO of fx)for(let fx=0;fx<2;fx++){const fx=await Dc.checkProxy(rO.host);if(this.state.status===Hq.Cancelling)break;if(fx)return await Dc.setProxy(rO.host),void this.setState({status:Hq.Connected,proxy:rO})}this.setState({status:Hq.NotConnected})}}async disconnect(){this.state.status===Hq.Connecting&&(this.setState({status:Hq.Cancelling}),await new Promise((rO=>setTimeout(rO,ld+1e3)))),await cJ.browser.proxy.settings.clear({}),this.setState({status:Hq.NotConnected})}async init(){this.proxyList=await Dc.getProxyList(),this.state=await Dc.getCurrentConnectionState(this.proxyList)}}fO.Connection=Dc},{"webextension-polyfill-ts":22}]},{},[21]);